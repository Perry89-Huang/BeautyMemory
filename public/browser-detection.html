<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç€è¦½å™¨æª¢æ¸¬å·¥å…· - ç¾é­”åŠ›</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 24px;
        }
        
        .status {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .status.safe {
            background: #d1fae5;
            color: #065f46;
            border: 2px solid #10b981;
        }
        
        .status.warning {
            background: #fef3c7;
            color: #92400e;
            border: 2px solid #f59e0b;
        }
        
        .info-box {
            background: #f3f4f6;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        .info-box h3 {
            color: #374151;
            font-size: 14px;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .info-box p {
            color: #6b7280;
            font-size: 13px;
            line-height: 1.6;
            word-break: break-all;
        }
        
        .guide {
            background: #eff6ff;
            border-left: 4px solid #3b82f6;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        
        .guide h3 {
            color: #1e40af;
            margin-bottom: 10px;
            font-size: 16px;
        }
        
        .guide ol {
            margin-left: 20px;
            color: #1e3a8a;
        }
        
        .guide li {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            margin-top: 15px;
        }
        
        button:hover {
            opacity: 0.9;
        }
        
        .icon {
            font-size: 32px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ” ç€è¦½å™¨ç’°å¢ƒæª¢æ¸¬</h1>
        
        <div id="status" class="status">
            <div class="icon">â³</div>
            <div>æ­£åœ¨æª¢æ¸¬...</div>
        </div>
        
        <div class="info-box">
            <h3>ğŸ“± User Agent</h3>
            <p id="userAgent">è¼‰å…¥ä¸­...</p>
        </div>
        
        <div class="info-box">
            <h3>ğŸŒ ç€è¦½å™¨é¡å‹</h3>
            <p id="browserType">è¼‰å…¥ä¸­...</p>
        </div>
        
        <div class="info-box">
            <h3>âœ… Google OAuth ç›¸å®¹æ€§</h3>
            <p id="compatibility">è¼‰å…¥ä¸­...</p>
        </div>
        
        <div id="guide"></div>
        
        <button onclick="copyUrl()">ğŸ“‹ è¤‡è£½ç¶²å€ï¼ˆåœ¨å…¶ä»–ç€è¦½å™¨é–‹å•Ÿï¼‰</button>
        <button onclick="location.href='/'">ğŸ  è¿”å›é¦–é </button>
    </div>

    <script>
        function detectBrowser() {
            const ua = navigator.userAgent || navigator.vendor || window.opera;
            
            // æª¢æ¸¬å„ç¨®å…§å»ºç€è¦½å™¨
            if (ua.includes('Line/') || ua.includes('LIFF/')) {
                return { type: 'LINE', safe: false };
            }
            if (ua.includes('FBAN') || ua.includes('FBAV')) {
                return { type: 'Facebook', safe: false };
            }
            if (ua.includes('Instagram')) {
                return { type: 'Instagram', safe: false };
            }
            if (ua.includes('Twitter')) {
                return { type: 'Twitter', safe: false };
            }
            if (ua.includes('wv') || ua.includes('WebView')) {
                return { type: 'WebView (å…§å»ºç€è¦½å™¨)', safe: false };
            }
            
            // æª¢æ¸¬æ­£å¸¸ç€è¦½å™¨
            if (ua.includes('Chrome') && !ua.includes('Edge')) {
                return { type: 'Chrome', safe: true };
            }
            if (ua.includes('Safari') && !ua.includes('Chrome')) {
                return { type: 'Safari', safe: true };
            }
            if (ua.includes('Firefox')) {
                return { type: 'Firefox', safe: true };
            }
            if (ua.includes('Edge')) {
                return { type: 'Edge', safe: true };
            }
            
            return { type: 'æœªçŸ¥ç€è¦½å™¨', safe: false };
        }

        function updateUI() {
            const ua = navigator.userAgent;
            const browser = detectBrowser();
            
            // æ›´æ–° User Agent
            document.getElementById('userAgent').textContent = ua;
            
            // æ›´æ–°ç€è¦½å™¨é¡å‹
            document.getElementById('browserType').textContent = browser.type;
            
            // æ›´æ–°ç›¸å®¹æ€§
            const compatibilityEl = document.getElementById('compatibility');
            if (browser.safe) {
                compatibilityEl.innerHTML = 'âœ… <strong>å®Œå…¨ç›¸å®¹</strong> - å¯ä»¥æ­£å¸¸ä½¿ç”¨ Google ç™»å…¥';
            } else {
                compatibilityEl.innerHTML = 'âŒ <strong>ä¸ç›¸å®¹</strong> - æ­¤ç’°å¢ƒç„¡æ³•ä½¿ç”¨ Google OAuth';
            }
            
            // æ›´æ–°ç‹€æ…‹
            const statusEl = document.getElementById('status');
            if (browser.safe) {
                statusEl.className = 'status safe';
                statusEl.innerHTML = `
                    <div class="icon">âœ…</div>
                    <div><strong>ç’°å¢ƒå®‰å…¨</strong><br>æ‚¨å¯ä»¥æ­£å¸¸ä½¿ç”¨ Google å¸³è™Ÿç™»å…¥</div>
                `;
            } else {
                statusEl.className = 'status warning';
                statusEl.innerHTML = `
                    <div class="icon">âš ï¸</div>
                    <div><strong>æª¢æ¸¬åˆ° ${browser.type} å…§å»ºç€è¦½å™¨</strong><br>Google ç™»å…¥å¯èƒ½ç„¡æ³•ä½¿ç”¨</div>
                `;
                
                // é¡¯ç¤ºæŒ‡å¼•
                const guideEl = document.getElementById('guide');
                guideEl.className = 'guide';
                guideEl.innerHTML = `
                    <h3>ğŸ“– å¦‚ä½•è§£æ±ºï¼Ÿ</h3>
                    <ol>
                        <li>é»æ“Šå³ä¸Šè§’çš„ <strong>ã€Œâ‹¯ã€é¸å–®</strong></li>
                        <li>é¸æ“‡ <strong>ã€Œåœ¨ç€è¦½å™¨ä¸­é–‹å•Ÿã€</strong> æˆ– <strong>ã€Œåœ¨ Safari/Chrome ä¸­é–‹å•Ÿã€</strong></li>
                        <li>æˆ–é»æ“Šä¸‹æ–¹æŒ‰éˆ•è¤‡è£½ç¶²å€ï¼Œç„¶å¾Œåœ¨ Safari/Chrome ä¸­è²¼ä¸Šé–‹å•Ÿ</li>
                        <li>åœ¨æ­£å¸¸ç€è¦½å™¨ä¸­å³å¯ä½¿ç”¨ Google ç™»å…¥</li>
                    </ol>
                    <p style="margin-top: 10px; color: #6b7280; font-size: 12px;">
                        ğŸ’¡ æç¤ºï¼šä¹Ÿå¯ä»¥ä½¿ç”¨ Email å’Œå¯†ç¢¼è¨»å†Š/ç™»å…¥ï¼Œä¸å—ç€è¦½å™¨é™åˆ¶
                    </p>
                `;
            }
        }

        function copyUrl() {
            const url = window.location.origin;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(url).then(() => {
                    alert('âœ… ç¶²å€å·²è¤‡è£½ï¼\n\nè«‹åœ¨ Safariã€Chrome æˆ–å…¶ä»–ç€è¦½å™¨ä¸­é–‹å•Ÿ');
                }).catch(() => {
                    prompt('è«‹è¤‡è£½ä»¥ä¸‹ç¶²å€ï¼š', url);
                });
            } else {
                prompt('è«‹è¤‡è£½ä»¥ä¸‹ç¶²å€ï¼š', url);
            }
        }

        // é é¢è¼‰å…¥æ™‚åŸ·è¡Œæª¢æ¸¬
        updateUI();
    </script>
</body>
</html>
